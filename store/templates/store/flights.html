{% extends 'base.html' %}

{% block page %}
<div class="container-fluid mt-3">
    <div class="card text-center">
        <div class="card-body">
            <form action="/store/flights" method="POST">
                {% csrf_token %}
                <div class="form-row">
                    <div class="col-lg-4">
                        <input type="text" name='from' class="form-control" value="{{fromloc}}" placeholder="From">
                    </div>
                    <div class="col-lg-4">
                        <input type="text" name='to' class="form-control" value="{{toloc}}" placeholder="To">
                    </div>
                    <div class="col-lg-3">
                        <input type="date" name='date' value="{{tdate}}" class="form-control">
                    </div>
                    <div class="col">
                        <input type="submit" value="Search" class="btn btn-primary float-right">
                    </div>
                </div>
            </form>
        </div>
      </div>
</div>
<div class="container-fluid mt-3">
    <div class="row">
      <div class="col-lg-3 mx-auto">
        <div class="list-group">
          <a href="/store/flights" class="list-group-item list-group-item-action list-group-item-dark">All</a>
          <a href="/store/flights" class="list-group-item list-group-item-action list-group-item-dark">1</a>
          <a href="/store/flights" class="list-group-item list-group-item-action list-group-item-dark">2</a>
        </div>
      </div>
      <div class="col-lg-8 mx-auto">
          {% for flt in flights %}
        <div class="row mx-auto mb-3">
            <div class="card w-100 text-center">
                <div class="card-body">
                    <div class="row">
                        <div class="col-8"><h5 class="card-title float-left ml-2">{{flt.airline}} - {{flt.code}}</h5></div>
                        <div class="col"><h6 class="card-text mr-4">{{flt.time}}</h6></div>
                    </div>
                    <div class="row mx-auto mt-3">
                        <p class="card-text mx-auto">{{flt.fromdest}} -> {{flt.todest}}</p> 
                        <p class="card-text mx-auto">Duration - {{flt.duration}}</p>
                        <h6 class="card-text mx-auto">Price - $45</h6>
                    </div>
                    
                    <input type="submit" value="Book Now" class="btn btn-primary float-right mr-2">
                </div>
            </div>
        </div>
        {% endfor %}
      </div>
{% endblock %}